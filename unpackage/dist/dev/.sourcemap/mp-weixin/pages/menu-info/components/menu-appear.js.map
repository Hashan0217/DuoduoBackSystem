{"version":3,"sources":[null,"webpack:///C:/Users/Administrator/Desktop/background/system/pages/menu-info/components/menu-appear.vue?7782","webpack:///C:/Users/Administrator/Desktop/background/system/pages/menu-info/components/menu-appear.vue?7ac6","webpack:///C:/Users/Administrator/Desktop/background/system/pages/menu-info/components/menu-appear.vue?9c7f","uni-app:///pages/menu-info/components/menu-appear.vue","webpack:///C:/Users/Administrator/Desktop/background/system/pages/menu-info/components/menu-appear.vue?570d","webpack:///C:/Users/Administrator/Desktop/background/system/pages/menu-info/components/menu-appear.vue?9b81"],"names":["data","current","options1","text","style","backgroundColor","options2","pageSize","itemHight","selectedItemId","selectedItem","page","getShopingFunRun","catgoryId","shopItemData","created","uni","mounted","beforeDestroy","computed","isEnd","watch","shopingItem","console","methods","itemData","total","getCatgoryData","res","getShopingItem","size","categoryId","handleTabsChange","bindClick","category","url","e","itemId","title","duration","status","id","swipeChange","appearMenuNum","ViewHeight","itemNum","handleUpScrollData","target","getDomSizeData","resolve","reject","comunicationOff"],"mappings":"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","file":"pages/menu-info/components/menu-appear.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./menu-appear.vue?vue&type=template&id=4ad37954&scoped=true&\"\nvar renderjs\nimport script from \"./menu-appear.vue?vue&type=script&lang=js&\"\nexport * from \"./menu-appear.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu-appear.vue?vue&type=style&index=0&id=4ad37954&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ad37954\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/menu-info/components/menu-appear.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu-appear.vue?vue&type=template&id=4ad37954&scoped=true&\"","var components\ntry {\n  components = {\n    uLoadingIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-icon/u-loading-icon\" */ \"@/uni_modules/uview-ui/components/u-loading-icon/u-loading-icon.vue\"\n      )\n    },\n    uTabs: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-tabs/u-tabs\" */ \"@/uni_modules/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uniSwipeAction: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-swipe-action/components/uni-swipe-action/uni-swipe-action\" */ \"@/uni_modules/uni-swipe-action/components/uni-swipe-action/uni-swipe-action.vue\"\n      )\n    },\n    uniSwipeActionItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-swipe-action/components/uni-swipe-action-item/uni-swipe-action-item\" */ \"@/uni_modules/uni-swipe-action/components/uni-swipe-action-item/uni-swipe-action-item.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu-appear.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu-appear.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"isLoding\" v-if=\"cateGoryIsLoding&&shopingItemIsLoding\">\r\n\t\t<u-loading-icon text=\"加载中\" :vertical=\"true\" textSize=\"18\" color=\"#2979ff\"></u-loading-icon>\r\n\t</view>\r\n\t<view class=\"menu-appear-container\" v-else id=\"menuAppearContainer\">\r\n\t\t<view class=\"container-tabs\">\r\n\t\t\t<u-tabs :list=\"category\" :is-scroll=\"false\" :current=\"current\" @change=\"handleTabsChange\"></u-tabs>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"container-info\" id=\"containerInfo\">\r\n\t\t\t<uni-swipe-action>\r\n\t\t\t\t<uni-swipe-action-item @click=\"bindClick\" @change=\"swipeChange(item.dishId,item)\"\r\n\t\t\t\t\t:right-options=\"options1\" :left-options=\"options2\" v-for=\"item in  shopItemData.data\"\r\n\t\t\t\t\t:key=\"item.dishId\">\r\n\t\t\t\t\t<view class=\"container-card\" id=\"cardItem\">\r\n\t\t\t\t\t\t<image style=\"border-radius: 10px;position: relative;\" class=\"t-image c-image \" mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t:src=\"item.image\">\r\n\t\t\t\t\t\t\t<view class=\"c-image-active\" v-if=\"item.status==0\">已下架</view>\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t<text class=\"t-name  c-text-size \">{{item.name}}</text>\r\n\t\t\t\t\t\t<text class=\"t-unit c-text-size \">{{item.description}}</text>\r\n\t\t\t\t\t\t<text class=\"t-price c-text-size \">{{item.price}}元</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-swipe-action-item>\r\n\t\t\t</uni-swipe-action>\r\n\t\t</view>\r\n\t\t<view class=\"itemBottom\" v-if=\"isEnd\">\r\n\t\t\t-------到底啦ε=ε=ε=(~￣▽￣)~----\r\n\t\t</view>\r\n\t</view>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\t//辅助函数\r\n\timport {\r\n\t\tmapState\r\n\t} from \"vuex\"\r\n\t//dispatch 辅助函数\r\n\timport helpDispatch from \"@/utils/helpDispatch.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\toptions1: [{\r\n\t\t\t\t\t\ttext: '编辑',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tbackgroundColor: '#007aff',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '删除',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tbackgroundColor: '#dd524d'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\toptions2: [{\r\n\t\t\t\t\ttext: '下架',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tbackgroundColor: '#dd524d'\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: '上架',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tbackgroundColor: '#007aff'\r\n\t\t\t\t\t}\r\n\t\t\t\t}],\r\n\t\t\t\tpageSize: 7, //展示多少个数据\r\n\t\t\t\titemHight: 120, //商品卡片高度\r\n\t\t\t\tselectedItemId: '', //选中商品的Id\r\n\t\t\t\tselectedItem: '', //选中的商品\r\n\t\t\t\tpage: 1, //页码\r\n\t\t\t\tgetShopingFunRun: false, //是否获取数据\r\n\t\t\t\tcatgoryId: '', //分类id\r\n\t\t\t\tshopItemData: {\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\t//获取分类\t\r\n\t\t\tawait this.getCatgoryData()\r\n\r\n\t\t\t//监听事件\r\n\t\t\tuni.$on('upScrollData', this.handleUpScrollData)\r\n\t\t\t//获取商品\r\n\r\n\r\n\r\n\t\t},\r\n\t\tasync mounted() {\r\n\t\t\t// const res = await this.getDomSizeData(\"#cardItem\")\r\n\t\t\t// this.itemHight = res[0]\r\n\r\n\r\n\r\n\t\t},\r\n\t\t//销毁组件前\r\n\t\tbeforeDestroy() {\r\n\t\t\t//消除监听\r\n\t\t\tthis.comunicationOff()\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(\"menu_store\", [\"category\", \"shopingItem\", \"shopingItemIsLoding\", \"cateGoryIsLoding\"]),\r\n\t\t\tisEnd() {\r\n\t\t\t\treturn this.shopItemData.data.length >= this.shopItemData.total\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tshopingItem: function() {\r\n\t\t\t\tconsole.log('发生改变了');\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//获取改动后数据\r\n\t\t\titemData() {\r\n\t\t\t\tconst id = this.category[this.current].id\r\n\t\t\t\tif (!this.shopingItem[id]) {\r\n\t\t\t\t\tthis.shopItemData = {\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\ttotal: 0,\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.shopItemData = this.shopingItem[id]\r\n\t\t\t},\r\n\t\t\t//获取分类id\r\n\t\t\tasync getCatgoryData() {\r\n\t\t\t\tconst res = await helpDispatch(\"menu_store/actionsGetShopingCategoryAll\", \"页面加载失败\")\r\n\t\t\t\t//获取商品\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.catgoryId = this.category[this.current].id\r\n\t\t\t\t\tawait this.getShopingItem()\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t//获取商品\r\n\t\t\tasync getShopingItem() {\r\n\t\t\t\tawait this.appearMenuNum(this.itemHight)\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tcurrent: this.page,\r\n\t\t\t\t\tsize: `${this.pageSize}`,\r\n\t\t\t\t\tcategoryId: this.catgoryId,\r\n\t\t\t\t}\r\n\t\t\t\tawait helpDispatch(\"menu_store/actionsGetShopingItem\", data, \"页面加载失败\")\r\n\t\t\t\tthis.itemData()\r\n\t\t\t},\r\n\t\t\t//处理tabs\r\n\t\t\tasync handleTabsChange(data) {\r\n\t\t\t\tthis.current = data.index;\r\n\t\t\t\tthis.catgoryId = this.category[this.current].id\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tawait this.getShopingItem()\r\n\t\t\t\tthis.itemData()\r\n\t\t\t},\r\n\t\t\tasync bindClick(e) {\r\n\r\n\t\t\t\tif (e.content.text === '编辑') {\r\n\t\t\t\t\tconst category = this.catgoryId\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: `/pages/menu-info/components/add-menu?shopId=${this.selectedItemId}&catgoryId=${category}`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (e.content.text === '删除') {\r\n\t\t\t\t\t//删除商品\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\tcatgoryId: this.catgoryId, //当前的分类Id\r\n\t\t\t\t\t\titemId: this.selectedItemId,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst res = await helpDispatch(\"menu_store/actionsdeletShopingItem\", data, '删除失败')\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tthis.itemData()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (e.content.text === '上架') {\r\n\t\t\t\t\tconsole.log(this.selectedItem);\r\n\t\t\t\t\tif (this.selectedItem.status === 1) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '商品已上架',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\tstatus: 1,\r\n\t\t\t\t\t\tid: this.selectedItemId,\r\n\t\t\t\t\t\tcategoryId: this.catgoryId\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst res = await helpDispatch(\"menu_store/actionsgetReviseShopingItemStatues\", data, '下架失败')\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (e.content.text === '下架') {\r\n\t\t\t\t\tif (this.selectedItem.status === 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '商品已下架',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\tid: this.selectedItemId,\r\n\t\t\t\t\t\tcategoryId: this.catgoryId\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst res = await helpDispatch(\"menu_store/actionsgetReviseShopingItemStatues\", data, '下架失败')\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tswipeChange(id, item) {\r\n\t\t\t\tthis.selectedItemId = id\r\n\t\t\t\tthis.selectedItem = item\r\n\t\t\t},\r\n\t\t\t//计算窗口内，出现几个菜单元素\r\n\t\t\tasync appearMenuNum(domSize) {\r\n\t\t\t\tconst data = await uni.getSystemInfo()\r\n\t\t\t\tconst ViewHeight = data.windowHeight\r\n\t\t\t\tconst itemNum = Math.ceil(ViewHeight / domSize)\r\n\t\t\t\tthis.pageSize = itemNum\r\n\t\t\t\tconst res = await this.getDomSizeData(\"#containerInfo\")\r\n\t\t\t},\r\n\t\t\t//处理监听 滚动事件\r\n\t\t\tasync handleUpScrollData(data) {\r\n\t\t\t\tconst target = this.itemHight * 2\r\n\t\t\t\t//判断是否数加载新数据\r\n\t\t\t\tif (data.data.scrollTop > target && data.data.deltaY <= 0) {\r\n\t\t\t\t\tif (this.getShopingFunRun) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.shopItemData.data.length >= this.shopItemData.total) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.getShopingFunRun = true\r\n\t\t\t\t\t\t\tthis.page++\r\n\t\t\t\t\t\t\t// this.pageSize = this.pageSize * 2\r\n\t\t\t\t\t\t\tawait this.getShopingItem()\r\n\t\t\t\t\t\t\tthis.getShopingFunRun = false\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t//获取dom元素的大小数据\r\n\t\t\tgetDomSizeData(dom) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\t\tconst res = query.selectAll(dom)\r\n\t\t\t\t\tres.fields({\r\n\t\t\t\t\t\tsize: true\r\n\t\t\t\t\t}, data => {\r\n\t\t\t\t\t\tresolve(data)\r\n\t\t\t\t\t}).exec(() => {\r\n\t\t\t\t\t\treject('失败')\r\n\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//消除监听\r\n\t\t\tcomunicationOff() {\r\n\t\t\t\tuni.$off('upScrollData', this.handleUpScrollData)\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\tpage {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #303133;\r\n\t}\r\n\r\n\t.temp {\r\n\t\tdisplay: flex;\r\n\r\n\t}\r\n\r\n\t.container-title {\r\n\t\tmargin-top: 15px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-around;\r\n\t\theight: 30px;\r\n\t\tfont-size: 18px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 30px;\r\n\t}\r\n\r\n\t.t-image {\r\n\t\tborder-radius: 10px;\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\r\n\t}\r\n\r\n\t.t-name {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.t-unit {\r\n\t\tflex: 0.5;\r\n\r\n\t}\r\n\r\n\t.t-price {\r\n\t\tflex: 0.5;\r\n\r\n\t}\r\n\r\n\r\n\t.container-card {\r\n\t\tdisplay: flex;\r\n\t\theight: 120px;\r\n\t\tmargin-top: 15px;\r\n\t\t// background-color: #a0cfff;\r\n\t}\r\n\r\n\t.c-image {\r\n\t\tborder-radius: 10px;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.c-image-active {\r\n\t\tposition: absolute;\r\n\t\tleft: 30px;\r\n\t\ttop: 45%;\r\n\t\tfont-weight: bolder;\r\n\t\tfont-size: 24px;\r\n\t\tcolor: rgba(255, 255, 255, 0.75);\r\n\t\ttext-align: center;\r\n\t\ttransform: rotate(45deg);\r\n\r\n\t}\r\n\r\n\t.c-text-size {\r\n\t\ttext-align: center;\r\n\t\tline-height: 120px;\r\n\t\tfont-size: 24px;\r\n\t}\r\n\r\n\t.container-info {\r\n\t\theight: 100%;\r\n\t\tmargin-top: 10px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\r\n\t}\r\n\r\n\t.itemBottom {\r\n\t\tmargin: 0 auto;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: rgb(199, 200, 201);\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t//加载位置\r\n\t.isLoding {\r\n\r\n\t\tposition: absolute;\r\n\t\ttop: 45%;\r\n\t\tleft: 45%;\r\n\t\ttransform: -50%, -50%;\r\n\t\t// display: flex;\r\n\r\n\t}\r\n</style>","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu-appear.vue?vue&type=style&index=0&id=4ad37954&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu-appear.vue?vue&type=style&index=0&id=4ad37954&scoped=true&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1691241527028\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}